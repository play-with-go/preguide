# Test that basic defs work

preguide gen -out _output
! stdout .+
! stderr .+
cmp _output/_posts/defs.md defs/en.md.golden

-- defs/en.md --
---
title: A test with defs
---
# Hello <!--ref: world-->

Here is a `<!--ref: world-->` code example.

And a fence block:

```
<!--ref: world-->
```
-- defs/guide.cue --
package guide

Defs: world: "world"
-- defs/en.md.golden --
---
image: playwithgo/go1.14.6@sha256:b3690d0dc29edfe2d740d3632175da32bc7301b8bec994060c11deaf99c71123
lang: en
title: A test with defs
---
# Hello world

Here is a `world` code example.

And a fence block:

```
world
```
