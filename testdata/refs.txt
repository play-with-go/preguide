# Test that basic defs work

preguide gen -out _output
! stdout .+
! stderr .+
cmp _output/_posts/defs.md defs/en.md.golden

-- defs/en.md --
---
title: A test with defs
---
# Hello <!--ref: world-->

Here is a `<!--ref: world-->` code example.

And a fence block:

```
<!--ref: world-->
```
-- defs/guide.cue --
package guide

Defs: world: "world"
-- defs/en.md.golden --
---
lang: en
title: A test with defs
---
# Hello world

Here is a `world` code example.

And a fence block:

```
world
```
