# Test that we get an error when guide prose includes a directive to a non-existent step

! preguide gen -out _output
! stdout .+
stderr 'myguide/en.md:3:1: unknown step "step1" referened'

-- myguide/en.md --
# Step 1

<!--step: step1 -->
