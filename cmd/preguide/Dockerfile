# syntax = docker/dockerfile@sha256:e2a8561e419ab1ba6b2fe6cbdf49fd92b95912df1cf7d313c3e2230a333fdbcc
# SHA256 above is an absolute reference to docker/dockerfile:1.2.1

# *************************************************
# Code generated by cue cmd cmd/preguide/preguide_tool.genimagebases. DO NOT EDIT
# *************************************************

# The code generated warning and comment regarding the syntax reference are not at the top of the file
# because the syntax line must be the first in the file.

# golang:1.15.7
FROM golang@sha256:c161abf0cde3969e05f6914a86cab804b2b0df515f4ff9570475b25547ba7959 AS stage1

ENV GOCACHE=/root/.cache/go/gocache
ENV GOMODCACHE=/root/.cache/go/gomodcache
ENV GOPATH=

COPY . .

RUN --mount=type=cache,target=/root/.cache/go go build github.com/play-with-go/preguide/cmd/preguide

# busybox:1.32.0
FROM busybox@sha256:30d1412c0f45be67d38b99179866868b1f09fd9013cbacf22813926aee428cf7

RUN mkdir /runbin

COPY --from=stage1 /go/preguide /runbin
