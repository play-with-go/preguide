# *************************************************
# Code generated by cue cmd cmd/preguide/preguide_tool.genimagebases. DO NOT EDIT
# *************************************************

# The code generated warning and comment regarding the syntax reference are not at the top of the file
# because the syntax line must be the first in the file.

# golang:1.19.1
FROM --platform=$BUILDPLATFORM golang@sha256:2d17ffd12a2cdb25d4a633ad25f8dc29608ed84f31b3b983427d825280427095 AS stage1

ENV GOCACHE=/root/.cache/go/gocache
ENV GOMODCACHE=/root/.cache/go/gomodcache
ENV GOPATH=

ARG BUILDPLATFORM TARGETPLATFORM TARGETOS TARGETARCH
ENV GOOS=$TARGETOS
ENV GOARCH=$TARGETARCH

COPY . .

RUN --mount=type=cache,target=/root/.cache/go go build github.com/play-with-go/preguide/cmd/preguide

# busybox:1.32.0
FROM busybox@sha256:ad9bd57a3a57cc95515c537b89aaa69d83a6df54c4050fcf2b41ad367bec0cd5

RUN mkdir /runbin

COPY --from=stage1 /go/preguide /runbin
